{% extends "sales_api/master.html" %}
{% load crispy_forms_tags %}

{% block title %}
  Profile
{% endblock %}

{% block content %}
<div class="card">

  <!-- Header -->
  <div class="card-header">
    <div class="card-header-title">
      <span class="icon-text is-size-4">
        <span class="icon"><i class="fa-solid fa-user"></i></span>
        <span>Profile</span>
      </span>
    </div>
    <button class="card-header-icon has-text-weight-bold is-colorized modal-button" data-id="logout-modal">
      <span class="icon-text">
        <span>Log out</span>
        <span class="icon"><i class="fa-solid fa-right-from-bracket"></i></span>
      </span>
    </button>
  </div>

  <!-- Content -->
  <div class="card-content">
    <form class="block" method="post" id="data">
      {% csrf_token %}
      {% crispy formuser %}
    </form>
    <div class="field is-grouped">
      <button type="submit" class="button is-success" form="data">
        <span class="icon-text">
          <span>Save</span>
          <span class="icon"><i class="fa-solid fa-check"></i></span>
        </span>
      </button>
    </div>
  </div>

</div>

<!-- Log out Confirmation -->
<div id="logout-modal" class="modal">
  <div class="modal-background"></div>
  <div class="modal-content has-text-centered">
    <div class="box">
      <figure class="block">
        <svg xmlns="http://www.w3.org/2000/svg" height="128" width="128" viewBox="0 0 512 512">
          <path fill="#ffdd57" d="M248.4 84.3c1.6-2.7 4.5-4.3 7.6-4.3s6 1.6 7.6 4.3L461.9 410c1.4 2.3 2.1 4.9 2.1 7.5c0 8-6.5 14.5-14.5 14.5l-387 0c-8 0-14.5-6.5-14.5-14.5c0-2.7 .7-5.3 2.1-7.5L248.4 84.3zm-41-25L9.1 385c-6 9.8-9.1 21-9.1 32.5C0 452 28 480 62.5 480l387 0c34.5 0 62.5-28 62.5-62.5c0-11.5-3.2-22.7-9.1-32.5L304.6 59.3C294.3 42.4 275.9 32 256 32s-38.3 10.4-48.6 27.3zM288 368a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm-8-184c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 96c0 13.3 10.7 24 24 24s24-10.7 24-24l0-96z"/>
        </svg>
      </figure>
      <p class="title">Log Out ?</p>
      <p class="block">You are about to be logged out of your account.</p>
      <form action="{% url 'logout' %}" method="post">
        {% csrf_token %}
        <div class="buttons is-centered">
          <button type="submit" class="button is-success">Yes</button>
          <button type="button" class="button is-danger">No</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}